---
title: Local User
description: Local user setup guide.
slug: local-user
tags: [web-core, local-user, self]
---

# Local User

The local user has the methods and properties on the local user media controls. Accessible via `self` key within the `meeting` object, the local user also contains the access control (permissions) and theming-related properties that will help to render the meeting state.

## Properties

Here is a list of properties that local user provides:

- `id`: The ID of the participant pertaining to local user.
- `name`: Contains Name of the local user.
- `clientSpecificId`: Identifier provided by the developer while adding the participant.
- `roomJoined`: A boolean value indicating if the local user has joined the meeting.
- `preview`: The local audio and video stream for the preview purpose (it will be populated after calling `enablePreview`).
- `permissions`: The permissions related to various capabilities within a meeting context for the local user
- `mediaPermissions`: The current audio and video permissions given by the local user.
- `audioTrack`: The audio track for the local user.
- `videoTrack`: The video track for the local user.
- `screenShareTracks`: The screen share video and audio tracks for the local user.
- `audioEnabled`: A boolean value indicating if the audio currently enabled.
- `videoEnabled`: A boolean value indicating if the video currently enabled.
- `screenShareEnabled`: A boolean value indicating if the screen share is currently enabled.
- `suggestedTheme`: The suggested theme for building the user interface.

## Change default audio / video settings

By default as soon as you join the meeting the SDK will produce your video and audio streams.
To change this behaviour use the `default` parameter

```js {5}
const meeting = await DyteClient.init({
  roomName,
  authToken,
  defaults: {
    audio: false, // Disable user's audio by default
    video: true, // Enable user's video by default
  },
});
```

## Setup tracks

If audio and video tracks are disabled during the `DyteClient` initialization process. You can setup the audio and video tracks by simply calling setup tracks method like below:

```js
meeting.self.setupTracks({ audio: true, video: true });
```

## Change the name of the local user

Change the user's name by calling `setName` method. The changed name will reflect across all participants ONLY if the change happens before joining the meeting.

```js
await meeting.self.setName('New Name');
```

## Mute/Unmute microphone

```js
// Mute Audio
await meeting.self.disableAudio();
// Unmute Audio
await meeting.self.enableAudio();
// Get current status
meeting.self.audioEnabled;
```

## Enable/Disable camera

```js
// Disable Video
await meeting.self.disableVideo();
// Enable Video
await meeting.self.enableVideo();
// Get current status
meeting.self.videoEnabled;
```

## Enable / Disable Screenshare

```js
// Enable Screenshare
await meeting.self.enableScreenShare();
// Disable Screenshare
await meeting.self.disableScreenShare();
// Get current status
meeting.self.screenShareEnabled;
```

## Preview media

Preview methods can be used to test the video / audio stream before sharing them with the meeting.

### Enable / Disable Audio and Video Preview

Enable a preview for audio and video. This will populate the `preview` property for the local user.
You can check if the streams are enabled in the preview using `meeting.self.preview.audioEnabled` and `meeting.self.preview.videoEnabled`.

```js
// Enable preview
await meeting.self.enablePreview();
// Disable preview
await meeting.self.disablePreview();
// Enable only audio preview
await meeting.self.enablePreview({ video: false });
// Enable only video preview
await meeting.self.enablePreview({ audio: false });
```

## Devices

To get the list of media devices that are currently being used, you can use the following methods:

```js

// Get all media devices
const devices = meeting.self.getAllDevices();
// Get all audio devices
const audioDevices = meeting.self.getAudioDevices();
// Get all video devices
const videoDevices = meeting.self.getVideoDevices();
// Get all speakers
const speakerDevices = meeting.self.getSpeakerDevices();
// Get device by ID
const device = meeting.self.getDeviceById('12345', 'audio');
// Fetch current media devices being used 
const currentDevices = meeting.self.getCurrentDevices();
```

## Set device

To set a device as an active device, you can call `setDevice` method. This takes a `MediaDeviceInfo` object, and replaces the same `kind` device. 

```js
meeting.self.setDevice(device)
```

## Events

You can subscribe to various events on the local user by calling `meeting.self.on(EVENT_NAME)`.

### Video update

Triggered when the user starts / stops the video using `enableVideo` or `disableVideo`

```js
const videoElem = document.getElementById('my-video');

meeting.self.on('videoUpdate', async ({ 
  videoEnabled, 
  videoTrack
}) => {
if (videoEnabled) {
    const stream = new MediaStream();
    stream.addTrack(videoTrack);
    videoElem.srcObject = stream;
    videoElem.play();
  } else {
    videoElem.stop();
  }
});
```

### Audio update

Triggered when the user starts / stops the audio using `enableAudio` or `disableAudio`

```js
const audioElem = document.getElementById('my-audio');
meeting.self.on('audioUpdate', async ({ 
  audioEnabled, 
  audioTrack
}) => {
  if (audioEnabled) {
    const stream = new MediaStream();
    stream.addTrack(audioTrack);
    audioElem.srcObject = stream;
    audioElem.play();
  } else {
    audioElem.stop();
  }
});
```

### Screenshare update

Triggered when the user starts / stops the screen share using `enableScreenShare()` or `disableScreenShare()`.

```js
const screenElem = document.getElementById('my-screen-share');
meeting.self.on(
  'screenShareUpdate',
  async ({ 
    screenShareEnabled,
    screenShareTracks
  }) => {
    if (screenShareEnabled) {
          const stream = new MediaStream();
          stream.addTrack(screenShareTracks.video);
          screenElem.srcObject(stream);
          await screenElem.play();
    } else {
      await screenElem.stop();
    }
  }
);
```

### Device change

Subscribe to the `deviceChange` event to handle the changing video, audio and speaker devices

```js
meeting.self.on('deviceChange', ({ device, preview }) => {
  // handle microphone change
  if (device.kind === 'audioinput') {
    console.log('mic change', device);
  }
  // handle camera change
  if (device.kind === 'videoinput') {
    console.log('camera change', device);
  }
  // handle speaker change
  if (device.kind === 'audiooutput') {
    console.log('speaker change', device);
  }
});
```