---
title: Livestream Objects and Methods
description: This topic covers the usage of livestreaming APIs for handling stage requests, including actions like joining or leaving the stage, accepting or rejecting requests, withdrawing invitations, and more.
sidebar_position: 1
tags: [flutter-core, livestream]
---

`DyteLivestream` object contains all the methods and properties required for integrating livestream. The livestream object can be accessed via `dyteMobileClient.livestream` method, where `dyteMobileClient` is the instance of `DyteMobileClient()`.

```dart
class DyteLivestream {
  DyteLivestreamData get data;
  List<DyteLiveStreamStageRequestPeer> get requests;
  void start() {}
  void stop() {}
  void acceptRequest(DyteLiveStreamStageRequestPeer peer) {}
  void rejectRequest(DyteLiveStreamStageRequestPeer peer) {}
  void acceptAllRequests() {}
  void rejectAllRequests() {}
  Future<String?> getUrl();
  Future<String> getRoomName();
  Future<DyteLivestreamStatus?> getState();
}

```

## Objects

### data : [_DyteLivestreamData_]

Livestream data can be accessed via `dyteMobileClient.livestream.data` method and contains the data related to metadata for livestream. It has four properties:<br />

  -  `roomName`: The name of the room.<br />
  -  `state`: The current status of the livestream, possible values can be: <br/>
      - `DyteLivestreamStatus.none`
      - `DyteLivestreamStatus.starting`
      - `DyteLivestreamStatus.started`
      - `DyteLivestreamStatus.ending`
      - `DyteLivestreamStatus.ended`
      - `DyteLivestreamStatus.errored`
  -  `url`: The url of the livestream.
  -  `viewerCount`: The number of viewers in the livestream.<br/><br />

### requests : _List&ltDyteLiveStreamStageRequestPeer&gt_

- `requests`: _List&ltDyteLiveStreamStageRequestPeer&gt_ object accessed via `dyteMobileClient.livestream.requests`, contains a list of requests to join the stage. Each request includes three properties: <br />
  - `peerId`: The peerId of the user who requested to join the stage.
  - `userId`: The userId of the user who requested to join the stage.
  - `displayName`: The display name of the user who requested to join the stage.<br/><br />

## Methods
Use the following methods to do the following:

### Request host to join stage

Call this method to request host to join stage. Ensure that the participant has the required (preset permissions)[https://github.com/guides/livestream/advanced/configuring-permissions].

```dart
dyteMobileClient.livestream.requestToJoinStage();
```

### Accept invitation to join stage

Call this method to accept an invitation and join the stage when the participant's request has been approved. Once the participant is on the stage, the participant's stage status `(dyteMobileClient.stageStatus)` is set as `DyteStageStatus.acceptedToJoinStage`.

```dart
dyteMobileClient.livestream.acceptRequestToJoinStage();
```

:::tip Note

To listen to updated stage status of the user, listen to `onStageStatusUpdated()` event in `DyteSelfEventsListener`. To get more info on how to setup listener for this event, see [Listen to stage status changes](#./../local-user/events.mdx/#listen-to-stage-status-changes).

:::

### Withdraw/reject invitation to join stage

Call this method to withdraw or reject the stage invitation.

```dart
dyteMobileClient.livestream.withdrawRequestToJoinStage();
```

### getUrl()

[_Future&ltString?&gt_]: Returns the url of the livestream.

### getRoomName()

[_Future&ltString?&gt_]: Returns the name of the room.

### getState()

[_Future&ltString?&gt_]: Returns the current status of the livestream.<br /><br />

## Host Controls Methods

Dyteâ€™s stage management APIs allow hosts to receive and manage stage requests as well as leave and join the stage.

### Join stage

Use this method to join the stage directly if the user is currently off-stage and has the required permissions.

```dart
dyteMobileClient.livestream.joinStage();
```

### Leave stage

Call this method to leave the stage if the user is currently on stage.

```dart
dyteMobileClient.livestream.leaveStage();
```

### Accept request

This method lets the host accept a request to join the stage. It takes the _DyteLiveStreamStageRequestPeer_ as an argument whose request has to be accepted.

```dart
dyteMobileClient.livestream.acceptRequest(peer);
```

### Reject request

This method lets the host reject a request to join the stage. It takes the _DyteLiveStreamStageRequestPeer_ as an argument whose request has to be rejected.

```dart
dyteMobileClient.livestream.rejectRequest(peer);
```

### Accept all requests

This method lets the host accept all the requests to join the stage.

```dart
dyteMobileClient.livestream.acceptAll();
```

### Reject all requests

This method lets the host reject all the requests to join the stage.

```dart
dyteMobileClient.livestream.rejectAll();
```
